{"remainingRequest":"/Users/carol/Documents/ptcg_account_web/node_modules/babel-loader/lib/index.js!/Users/carol/Documents/ptcg_account_web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/carol/Documents/ptcg_account_web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/carol/Documents/ptcg_account_web/src/components/dialog/AddSoldItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/carol/Documents/ptcg_account_web/src/components/dialog/AddSoldItem.vue","mtime":1622983330042},{"path":"/Users/carol/Documents/ptcg_account_web/node_modules/cache-loader/dist/cjs.js","mtime":1617010042632},{"path":"/Users/carol/Documents/ptcg_account_web/node_modules/babel-loader/lib/index.js","mtime":1617010042638},{"path":"/Users/carol/Documents/ptcg_account_web/node_modules/cache-loader/dist/cjs.js","mtime":1617010042632},{"path":"/Users/carol/Documents/ptcg_account_web/node_modules/vue-loader/lib/index.js","mtime":1617010052190}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9jYXJvbC9Eb2N1bWVudHMvcHRjZ19hY2NvdW50X3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICIvVXNlcnMvY2Fyb2wvRG9jdW1lbnRzL3B0Y2dfYWNjb3VudF93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvY2Fyb2wvRG9jdW1lbnRzL3B0Y2dfYWNjb3VudF93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbIm9wZW5EaWFsb2ciXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVudTogZmFsc2UsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBtZXNzYWdlOiBudWxsLAogICAgICBzbmFja2JhcjogZmFsc2UsCiAgICAgIG5ld1NvbGRJdGVtczogewogICAgICAgIHNvbGQ6IHsKICAgICAgICAgIG5hbWU6ICIiLAogICAgICAgICAgcGF5ZWU6ICIiLAogICAgICAgICAgc2FsZXNfY2hhbm5lbDogIiIsCiAgICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSwKICAgICAgICAgIHNwbGl0OiBmYWxzZSwKICAgICAgICAgIGNoYXJnZTogMAogICAgICAgIH0sCiAgICAgICAgc29sZFJlY29yZHM6IFt7CiAgICAgICAgICBwb2tlbW9uOiB7fSwKICAgICAgICAgIHByaWNlOiAwLAogICAgICAgICAgY291bnQ6IDAsCiAgICAgICAgICBzcGxpdDogZmFsc2UKICAgICAgICB9XQogICAgICB9LAogICAgICBwYXllZUl0ZW1zOiBbIkNhcm9sIiwgIkNoYWQiXSwKICAgICAgc2FsZXNDaGFubmVsSXRlbXM6IFsi6L2J5LqkIiwgIuidpueariJdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICBwb2tlbW9uczogInBva2Vtb25zIgogIH0pKSwge30sIHsKICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbCgpIHsKICAgICAgdmFyIHJlc3VsdCA9IHsKICAgICAgICBwcmljZTogMCwKICAgICAgICBjb3VudDogMAogICAgICB9OwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMubmV3U29sZEl0ZW1zLnNvbGRSZWNvcmRzKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIHJlc3VsdC5wcmljZSArPSBpdGVtLnByaWNlICogaXRlbS5jb3VudDsKICAgICAgICAgIHJlc3VsdC5jb3VudCArPSBwYXJzZUludChpdGVtLmNvdW50KTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICBjbG9zZURpYWxvZ0FjdGlvbjogZnVuY3Rpb24gY2xvc2VEaWFsb2dBY3Rpb24oKSB7CiAgICAgIHRoaXMuJGVtaXQoImNsb3NlRGlhbG9nIik7CiAgICAgIHRoaXMuY2xlYXJEYXRhKCk7CiAgICB9LAogICAgYWRkU29sZEl0ZW1BY3Rpb246IGZ1bmN0aW9uIGFkZFNvbGRJdGVtQWN0aW9uKCkgewogICAgICB0aGlzLm5ld1NvbGRJdGVtcy5zb2xkUmVjb3Jkcy51bnNoaWZ0KHsKICAgICAgICBwb2tlbW9uOiB7fSwKICAgICAgICBwcmljZTogMCwKICAgICAgICBjb3VudDogMCwKICAgICAgICBzcGxpdDogZmFsc2UKICAgICAgfSk7CiAgICB9LAogICAgc3VibWl0QWN0aW9uOiBmdW5jdGlvbiBzdWJtaXRBY3Rpb24oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMubmV3U29sZEl0ZW1zLnNvbGQubmFtZSkgewogICAgICAgIHRoaXMuc25hY2tiYXIgPSB0cnVlOwogICAgICAgIHRoaXMubWVzc2FnZSA9ICLlk4HpoIXlkI3nqLHmnKrloavlr6siOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLm5ld1NvbGRJdGVtcy5zb2xkLnBheWVlKSB7CiAgICAgICAgdGhpcy5zbmFja2JhciA9IHRydWU7CiAgICAgICAgdGhpcy5tZXNzYWdlID0gIuaUtuasvuS6uuacquWhq+WvqyI7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMubmV3U29sZEl0ZW1zLnNvbGRSZWNvcmRzKSwKICAgICAgICAgIF9zdGVwMjsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXAyLnZhbHVlOwoKICAgICAgICAgIGlmIChpdGVtLmNvdW50IDw9IDApIHsKICAgICAgICAgICAgdGhpcy5zbmFja2JhciA9IHRydWU7CiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICLllYblk4Hmlbjph4/mnKrloavlr6siOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCFpdGVtLnBva2Vtb24uaWQpIHsKICAgICAgICAgICAgdGhpcy5zbmFja2JhciA9IHRydWU7CiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICLmnKrpgbjmk4fllYblk4EiOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgaXRlbS5zcGxpdCA9IHRoaXMubmV3U29sZEl0ZW1zLnNvbGQuc3BsaXQ7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgfQoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImNyZWF0ZVNvbGRSZWNvcmQiLCB0aGlzLm5ld1NvbGRJdGVtcykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuY2xvc2VEaWFsb2dBY3Rpb24oKTsKCiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpcy5zbmFja2JhciA9IHRydWU7CiAgICAgICAgX3RoaXMubWVzc2FnZSA9ICLmlrDlop7os6Plh7rlk4HpoIXlpLHmlZciOwogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGNsZWFyRGF0YTogZnVuY3Rpb24gY2xlYXJEYXRhKCkgewogICAgICB0aGlzLm5ld1NvbGRJdGVtcy5zb2xkID0gewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIHBheWVlOiAiIiwKICAgICAgICBzYWxlc19jaGFubmVsOiAiIiwKICAgICAgICBjaGFyZ2U6IDAsCiAgICAgICAgZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCkKICAgICAgfTsKICAgICAgdGhpcy5uZXdTb2xkSXRlbXMuc29sZFJlY29yZHMgPSBbewogICAgICAgIHBva2Vtb246IHt9LAogICAgICAgIHByaWNlOiAwLAogICAgICAgIGNvdW50OiAwCiAgICAgIH1dOwogICAgfSwKICAgIHJlbW92ZUl0ZW06IGZ1bmN0aW9uIHJlbW92ZUl0ZW0oaW5kZXgpIHsKICAgICAgdGhpcy5uZXdTb2xkSXRlbXMuc29sZFJlY29yZHMuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goInF1ZXJ5UG9rZW1vbnMiKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["AddSoldItem.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-dialog\n    v-model=\"openDialog\"\n    transition=\"dialog-bottom-transition\"\n    fullscreen\n  >\n    <v-card class=\"d-flex flex-column\" style=\"height: 100%\">\n      <v-card-title class=\"headline\">\n        賣出商品登陸\n      </v-card-title>\n      <v-divider class=\"mb-4\"></v-divider>\n      <v-container style=\"height: 100%;overflow: hidden;\" class=\"pa-0\">\n        <v-card-text\n          class=\"d-flex flex-column\"\n          style=\"flex: 1;\n          height: 100%;\n          overflow: hidden;\n          padding-bottom: 0;\"\n        >\n          <div style=\"align-items: center\" class=\"d-flex mb-2\">\n            <v-text-field\n              v-model=\"newSoldItems.sold.name\"\n              dense\n              outlined\n              hide-details\n              label=\"品項命名\"\n              class=\"mr-4\"\n            ></v-text-field>\n            <v-select\n              v-model=\"newSoldItems.sold.sales_channel\"\n              hide-details\n              dense\n              outlined\n              label=\"賣出通路\"\n              class=\"mr-4\"\n              :items=\"salesChannelItems\"\n            ></v-select>\n            <v-text-field\n              v-model=\"newSoldItems.sold.charge\"\n              class=\"mr-4\"\n              label=\"手續費\"\n              v-if=\"newSoldItems.sold.sales_channel == '蝦皮'\"\n            ></v-text-field>\n            <v-select\n              v-model=\"newSoldItems.sold.payee\"\n              hide-details\n              dense\n              outlined\n              label=\"收款人\"\n              class=\"mr-4\"\n              :items=\"payeeItems\"\n            ></v-select>\n            <v-menu\n              class=\"mr-4\"\n              ref=\"menu\"\n              v-model=\"menu\"\n              :close-on-content-click=\"false\"\n              :return-value.sync=\"newSoldItems.sold.date\"\n              transition=\"scale-transition\"\n              offset-y\n              min-width=\"auto\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-text-field\n                  v-model=\"newSoldItems.sold.date\"\n                  readonly\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                ></v-text-field>\n              </template>\n              <v-date-picker\n                v-model=\"newSoldItems.sold.date\"\n                no-title\n                scrollable\n              >\n                <v-spacer></v-spacer>\n                <v-btn text color=\"primary\" @click=\"menu = false\">\n                  Cancel\n                </v-btn>\n                <v-btn\n                  text\n                  color=\"primary\"\n                  @click=\"$refs.menu.save(newSoldItems.sold.date)\"\n                >\n                  OK\n                </v-btn>\n              </v-date-picker>\n            </v-menu>\n\n            <v-checkbox\n              label=\"已拆帳\"\n              v-model=\"newSoldItems.sold.split\"\n            ></v-checkbox>\n          </div>\n          <div class=\"d-flex\" style=\"height: 100%;overflow: hidden; \">\n            <v-list\n              class=\"d-flex flex-column\"\n              style=\"height: 100%;\n            overflow: hidden;flex: 3;\"\n            >\n              <v-list-item style=\"flex: 0\">\n                <v-list-item-content>\n                  <v-list-item-title>商品名稱</v-list-item-title>\n                </v-list-item-content>\n                <v-list-item-content>\n                  <v-list-item-title>購買價格（單張）</v-list-item-title>\n                </v-list-item-content>\n                <v-list-item-content>\n                  <v-list-item-title>數量</v-list-item-title>\n                </v-list-item-content>\n                <v-list-item-content>\n                  <v-list-item-title>小計</v-list-item-title>\n                </v-list-item-content>\n                <v-list-item-action>\n                  <v-btn icon @click=\"addSoldItemAction\">\n                    <v-icon color=\"grey lighten-1\">mdi-plus</v-icon>\n                  </v-btn>\n                </v-list-item-action>\n              </v-list-item>\n              <div style=\"overflow: auto; height: 100%\">\n                <v-list-item\n                  v-for=\"(item, index) of newSoldItems.soldRecords\"\n                  :key=\"index\"\n                >\n                  <v-list-item-content class=\"pr-2\">\n                    <v-autocomplete\n                      v-model=\"item.pokemon\"\n                      :items=\"pokemons\"\n                      hide-no-data\n                      hide-selected\n                      item-text=\"name\"\n                      item-value=\"id\"\n                      return-object\n                      hide-details\n                    ></v-autocomplete>\n                  </v-list-item-content>\n                  <v-list-item-content class=\"pr-2 pl-2\">\n                    <v-text-field\n                      v-model=\"item.price\"\n                      prefix=\"$\"\n                      step=\"5\"\n                      min=\"0\"\n                      type=\"number\"\n                      hide-details\n                    ></v-text-field>\n                  </v-list-item-content>\n                  <v-list-item-content class=\"pr-2 pl-2\">\n                    <v-text-field\n                      v-model=\"item.count\"\n                      min=\"0\"\n                      type=\"number\"\n                      hide-details\n                    ></v-text-field>\n                  </v-list-item-content>\n                  <v-list-item-content class=\"pr-2 pl-2\">\n                    {{ item.price * item.count }}\n                  </v-list-item-content>\n                  <v-list-item-action>\n                    <v-btn\n                      icon\n                      :disabled=\"newSoldItems.soldRecords.length < 2\"\n                      @click=\"removeItem(index)\"\n                    >\n                      <v-icon color=\"grey lighten-1\">mdi-close</v-icon>\n                    </v-btn>\n                  </v-list-item-action>\n                </v-list-item>\n              </div>\n            </v-list>\n            <div\n              class=\"pa-2\"\n              style=\"height: 100%;\n            overflow: hidden;flex: 1 ;\"\n            >\n              <div\n                class=\"pl-4 pb-2\"\n                style=\"height: 100%;\n            overflow: hidden; display: flex; flex-direction: column;border-left: 1px solid rgba(0, 0, 0, 0.12)\"\n              >\n                <div\n                  style=\" display: flex; flex:1; flex-direction: column; overflow: auto;\"\n                >\n                  <div\n                    style=\"display: flex;justify-content: space-between; \"\n                    v-for=\"(item, index) of newSoldItems.soldRecords\"\n                    :key=\"index\"\n                  >\n                    <span v-if=\"item.pokemon.id\">{{ item.pokemon.name }}</span>\n                    <span v-if=\"item.pokemon.id\"\n                      >$ {{ item.price * item.count }}</span\n                    >\n                  </div>\n                </div>\n                <div style=\"justify-content: space-between; display: flex; \">\n                  <span>總計</span>\n                  <span>\n                    <span class=\"mr-10\">{{ total.count }} 張</span>\n                    <span>共 {{ total.price }}</span>\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </v-card-text>\n      </v-container>\n      <v-divider></v-divider>\n      <v-card-actions>\n        <v-container class=\"d-flex pa-0\">\n          <v-btn outlined @click=\"clearData\">\n            重置\n          </v-btn>\n          <v-spacer></v-spacer>\n          <v-btn outlined @click=\"closeDialogAction\" class=\"mr-2\">\n            取消\n          </v-btn>\n          <v-btn\n            depressed\n            color=\"primary\"\n            :loading=\"loading\"\n            :disabled=\"loading\"\n            @click=\"submitAction\"\n          >\n            登錄\n            <template v-slot:loader>\n              <span>大便去</span>\n            </template>\n          </v-btn>\n        </v-container>\n      </v-card-actions>\n    </v-card>\n\n    <v-snackbar v-model=\"snackbar\" timeout=\"3000\" color=\"error\">\n      {{ message }}\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn color=\"white\" text v-bind=\"attrs\" @click=\"snackbar = false\">\n          關閉\n        </v-btn>\n      </template>\n    </v-snackbar>\n  </v-dialog>\n</template>\n<script>\n  import { mapGetters } from \"vuex\";\n\n  export default {\n    props: [\"openDialog\"],\n    data: () => {\n      return {\n        menu: false,\n        loading: false,\n        message: null,\n        snackbar: false,\n        newSoldItems: {\n          sold: {\n            name: \"\",\n            payee: \"\",\n            sales_channel: \"\",\n            date: new Date().toISOString().substr(0, 10),\n            split: false,\n            charge: 0,\n          },\n          soldRecords: [\n            {\n              pokemon: {},\n              price: 0,\n              count: 0,\n              split: false,\n            },\n          ],\n        },\n        payeeItems: [\"Carol\", \"Chad\"],\n        salesChannelItems: [\"轉交\", \"蝦皮\"],\n      };\n    },\n    computed: {\n      ...mapGetters({\n        pokemons: \"pokemons\",\n      }),\n      total() {\n        let result = {\n          price: 0,\n          count: 0,\n        };\n        for (const item of this.newSoldItems.soldRecords) {\n          result.price += item.price * item.count;\n          result.count += parseInt(item.count);\n        }\n        return result;\n      },\n    },\n    methods: {\n      closeDialogAction() {\n        this.$emit(\"closeDialog\");\n        this.clearData();\n      },\n      addSoldItemAction() {\n        this.newSoldItems.soldRecords.unshift({\n          pokemon: {},\n          price: 0,\n          count: 0,\n          split: false,\n        });\n      },\n      submitAction() {\n        if (!this.newSoldItems.sold.name) {\n          this.snackbar = true;\n          this.message = \"品項名稱未填寫\";\n          return;\n        }\n        if (!this.newSoldItems.sold.payee) {\n          this.snackbar = true;\n          this.message = \"收款人未填寫\";\n          return;\n        }\n\n        for (const item of this.newSoldItems.soldRecords) {\n          if (item.count <= 0) {\n            this.snackbar = true;\n            this.message = \"商品數量未填寫\";\n            return;\n          }\n          if (!item.pokemon.id) {\n            this.snackbar = true;\n            this.message = \"未選擇商品\";\n            return;\n          }\n          item.split = this.newSoldItems.sold.split;\n        }\n        this.loading = true;\n\n        this.$store\n          .dispatch(\"createSoldRecord\", this.newSoldItems)\n          .then(() => {\n            this.closeDialogAction();\n            this.loading = false;\n          })\n          .catch((error) => {\n            this.snackbar = true;\n            this.message = \"新增賣出品項失敗\";\n            this.loading = false;\n            console.log(error);\n          });\n      },\n      clearData() {\n        this.newSoldItems.sold = {\n          name: \"\",\n          payee: \"\",\n          sales_channel: \"\",\n          charge: 0,\n          date: new Date().toISOString().substr(0, 10),\n        };\n        this.newSoldItems.soldRecords = [{ pokemon: {}, price: 0, count: 0 }];\n      },\n      removeItem(index) {\n        this.newSoldItems.soldRecords.splice(index, 1);\n      },\n    },\n    async mounted() {\n      await this.$store.dispatch(\"queryPokemons\");\n    },\n  };\n</script>\n"],"sourceRoot":"src/components/dialog"}]}